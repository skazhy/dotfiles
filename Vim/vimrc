" Reload .vimrc - :so %
"
" Language specific stuff is located
" in ftplugin and ftdetect folders

" Start pathogen & load plugins
call pathogen#infect('plugins/{}')
call pathogen#helptags()

filetype plugin on

" Tabs
set tabstop=4     " No. of spaces that tab couns for
set shiftwidth=4  " No. of spaces of each step in autoindent
set expandtab     " Tab inserts spaces
set autoindent    " Copy indent from previous line
set smartindent   " Smart indenting when starting newline

" Don't create swap files in Dropbox
au BufRead,BufNewFile *
\ if expand('%:~') =~ '^\~/Dropbox' |
\ set noswapfile |
\ else |
\ set swapfile |
\ endif

" Remove trailing whitespace on save
au BufWritePre * :%s/\s\+$//e

set history=50      " Remember 50 last commands / patterns
set scrolloff=2     " Keeping 2 line margin above/below cursor
set number          " Start each line with line number
set wildignorecase  " Ignore filename case
set ignorecase smartcase
set wildignore=*.pyc,*.pdf

" Disable ex mode
map Q <Nop>

" Visual settings
syntax on               " Enable syntax hilghlighting
set guioptions-=r       " Remove scrollbar
set guioptions-=T       " Remove toolbar
set guioptions-=m       " Remove menubar
set background=dark
set nohlsearch
colorscheme solarized

" Use arrow keys for buffer manipulation
noremap <Left>  :bprevious<cr>
noremap <Right> :bnext<cr>
noremap <Up>    :bdelete<cr>
noremap <Down>  :buffers<cr>

inoremap <Left>  <esc>:bprevious<cr>
inoremap <Right> <esc>:bnext<cr>
inoremap <Up>    <esc>:bdelete<cr>
inoremap <Down>  <esc>:buffers<cr>

" Preserve indenting when starting a line with #
inoremap # X<BS>#

set hidden " Allows movement between modified buffers

" Statusline
set laststatus=2         " omnipresent statusline
set statusline=          " clear statusline on vimrc reload
set statusline+=%-3.3n\  " bufer number
set statusline+=%f\      " file name
set statusline+=%m%r%w   " flags (modified, readonly, preview)

set statusline+=[%{strlen(&ft)?&ft:'none'}]%=                      " filetype
set statusline+=%{synIDattr(synID(line('.'),col('.'),1),'name')}\  " highlight
set statusline+=%-14.(%l,%c%V%)\ %<%P                              " offset

" NERDTree tweaks
let NERDTreeIgnore = ['\.pyc$']
